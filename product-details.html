<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Details</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <!-- Include your navigation bar here -->
    </header>
    <main id="mainContent">
      <div id="product-details" class="product-details-container"></div>
    </main>
    <footer>
      <!-- Include your footer here -->
    </footer>
    <script src="scripts.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const productDetailsContainer =
          document.getElementById("product-details");

        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get("id");

        if (productId) {
          fetch(`https://fakestoreapi.com/products/${productId}`)
            .then((response) => response.json())
            .then((product) => {
              productDetailsContainer.innerHTML = `
              <div class="product-details">
                <img src="${product.image}" alt="${product.title}">
                <h2>${product.title}</h2>
                <p>${product.description}</p>
                <p>Price: $${product.price}</p>
                <p>Category: ${product.category}</p>
                <p>Rating: ${product.rating.rate} (${product.rating.count} reviews)</p>
                <button id="add-to-cart" data-id="${product.id}" class="btn btn-primary">Add to Cart</button>
              </div>
            `;
              document
                .getElementById("add-to-cart")
                .addEventListener("click", () => {
                  addItemToCart(product.id);
                });
            })
            .catch((error) => {
              productDetailsContainer.innerHTML = `<p>Product not found.</p>`;
            });
        } else {
          productDetailsContainer.innerHTML = `<p>Invalid product ID.</p>`;
        }
      });
    </script>
  </body>
</html>
